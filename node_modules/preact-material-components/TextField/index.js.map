{"version":3,"sources":["../esm/TextField/index.js"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","HelperText","arguments","componentName","mdcProps","props","assign","children","MaterialComponent","Label","TextFieldInput","state","jsComponentAttached","mdcNotifyProps","setState","control","MDComponent","MDCTextField","onInit","value","afterComponentDidMount","nextProps","destroy","allprops","className","outerStyle","outlined","join","label","fullwidth","console","log","ref","setControlRef","style","leadingIcon","Icon","textarea","type","placeholder","undefined","required","for","id","trailingIcon","class","cn","defaultProps","valid","TextField","uid","helperTextPersistent","helperTextValidationMsg","showDiv","helperText","helperTextProps","persistent","uidCounter","Component","default_1"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { MDCTextField } from '@material/textfield';\nimport { Component, h } from 'preact';\nimport MaterialComponent from '../Base/MaterialComponent';\nimport Icon from '../Icon';\nexport class HelperText extends MaterialComponent {\n    constructor() {\n        super(...arguments);\n        this.componentName = 'text-field-helper-text';\n        this.mdcProps = ['persistent', 'validation-msg'];\n    }\n    materialDom(props) {\n        return (h(\"p\", Object.assign({}, props, { \"aria-hidden\": \"true\" }), props.children));\n    }\n}\nexport class Label extends MaterialComponent {\n    constructor() {\n        super(...arguments);\n        this.componentName = 'floating-label';\n        this.mdcProps = [];\n    }\n    materialDom(props) {\n        return h(\"label\", Object.assign({}, props), props.children);\n    }\n}\nexport class TextFieldInput extends MaterialComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            jsComponentAttached: false\n        };\n        this.componentName = 'text-field';\n        this.mdcProps = [\n            'fullwidth',\n            'textarea',\n            'dense',\n            'disabled',\n            'box',\n            'outlined'\n        ];\n        this.mdcNotifyProps = ['valid', 'disabled'];\n    }\n    componentDidMount() {\n        super.componentDidMount();\n        this.setState({\n            jsComponentAttached: true\n        }, () => {\n            if (this.control) {\n                this.MDComponent = new MDCTextField(this.control);\n                if (this.props.onInit) {\n                    this.props.onInit(this.MDComponent);\n                }\n                if (this.props.value) {\n                    this.MDComponent.value = this.props.value;\n                }\n            }\n            this.afterComponentDidMount();\n        });\n    }\n    componentWillReceiveProps(nextProps) {\n        super.componentWillReceiveProps(nextProps);\n        if (this.MDComponent &&\n            nextProps.value &&\n            this.props.value !== nextProps.value &&\n            this.MDComponent.value !== nextProps.value) {\n            this.MDComponent.value = nextProps.value;\n        }\n    }\n    componentWillUnmount() {\n        super.componentWillUnmount();\n        if (this.MDComponent) {\n            this.MDComponent.destroy();\n        }\n    }\n    getValue() {\n        return this.MDComponent ? this.MDComponent.value : null;\n    }\n    materialDom(allprops) {\n        let { className, outerStyle, outlined } = allprops, props = __rest(allprops, [\"className\", \"outerStyle\", \"outlined\"]);\n        className = className || '';\n        if ('leadingIcon' in props) {\n            className += ' mdc-text-field--box mdc-text-field--with-leading-icon';\n        }\n        if ('trailingIcon' in props) {\n            className += ' mdc-text-field--box mdc-text-field--with-trailing-icon';\n        }\n        if ('value' in props && this.state.jsComponentAttached) {\n            className = [className, 'mdc-text-field--upgraded'].join(' ');\n        }\n        if (props.label && props.fullwidth) {\n            console.log('Passing a \"label\" prop is not supported when using a \"fullwidth\" text field.');\n        }\n        // noinspection RequiredAttributes\n        return (h(\"div\", { className: className, ref: this.setControlRef, style: outerStyle },\n            props.leadingIcon ? (h(Icon, { className: \"mdc-text-field__icon\" }, props.leadingIcon)) : null,\n            props.textarea ? (h(\"textarea\", Object.assign({ className: \"mdc-text-field__input\" }, props))) : (h(\"input\", Object.assign({ type: props.type || 'text', className: \"mdc-text-field__input\", placeholder: this.state.jsComponentAttached\n                    ? undefined\n                    : props.label + this.props.required\n                        ? '*'\n                        : '' }, props))),\n            props.label && this.state.jsComponentAttached && (h(Label, { for: props.id }, props.label)),\n            props.trailingIcon ? (h(Icon, { className: \"mdc-text-field__icon\" }, props.trailingIcon)) : null,\n            props.textarea || outlined ? null : h(\"div\", { class: \"mdc-line-ripple\" }),\n            outlined ? (h(\"div\", { class: \"mdc-notched-outline\" },\n                h(\"svg\", null,\n                    h(\"path\", { className: \"mdc-notched-outline__path\" })))) : null,\n            outlined ? h(\"div\", { className: \"mdc-notched-outline__idle\" }) : null));\n    }\n    buildClassName(props) {\n        let cn = super.buildClassName(props);\n        if (this.MDComponent) {\n            cn += ' mdc-text-field--upgraded';\n        }\n        return cn;\n    }\n}\nTextFieldInput.defaultProps = {\n    valid: true\n};\nexport class TextField extends Component {\n    constructor() {\n        super(...arguments);\n        this.id = TextField.uid();\n    }\n    static uid() {\n        return ++this.uidCounter;\n    }\n    componentDidMount() {\n        this.setState({\n            jsComponentAttached: true\n        });\n    }\n    render(allprops) {\n        const { className, outerStyle, helperTextPersistent, helperTextValidationMsg } = allprops, props = __rest(allprops, [\"className\", \"outerStyle\", \"helperTextPersistent\", \"helperTextValidationMsg\"]);\n        const showDiv = props.helperText;\n        if ((props.helperText || props.label) && !props.id) {\n            props.id = `tf-${this.id}`;\n        }\n        // Helper text\n        const helperTextProps = {\n            persistent: helperTextPersistent,\n            'validation-msg': helperTextValidationMsg\n        };\n        return showDiv ? (h(\"div\", { className: className, style: outerStyle },\n            h(TextFieldInput, Object.assign({}, props, { onInit: MDComponent => {\n                    this.MDComponent = MDComponent;\n                }, \"aria-controls\": props.helperText && `${props.id}-helper-text` })),\n            props.helperText && (h(HelperText, Object.assign({ id: `${props.id}-helper-text` }, helperTextProps), props.helperText)))) : (h(TextFieldInput, Object.assign({}, props, { className: className, outerStyle: outerStyle, onInit: MDComponent => {\n                this.MDComponent = MDComponent;\n            } })));\n    }\n}\nTextField.uidCounter = 0;\nexport default class default_1 extends TextField {\n}\ndefault_1.HelperText = HelperText;\n//# sourceMappingURL=index.js.map"],"file":"index.js"}