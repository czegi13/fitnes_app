{"version":3,"sources":["../esm/Select/index.js"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__rest","s","e","t","p","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","propertyIsEnumerable","SelectOption","componentName","mdcProps","props","assign","children","MaterialComponent","Select","control","MDComponent","MDCSelect","listen","onChanged","updateSelection","unlisten","destroy","selectedIndex","onChange","labelRef","classList","remove","add","allprops","outlined","n","name","ref","setControlRef","class","hintText","value","disabled","selected","bind","default_1","Item"],"mappings":"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","sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { MDCSelect } from '@material/select/';\nimport { bind } from 'bind-decorator';\nimport { h } from 'preact';\nimport MaterialComponent from '../Base/MaterialComponent';\nexport class SelectOption extends MaterialComponent {\n    constructor() {\n        super(...arguments);\n        this.componentName = 'select-item';\n        this.mdcProps = [];\n    }\n    materialDom(props) {\n        return h(\"option\", Object.assign({}, props), props.children);\n    }\n}\nexport class Select extends MaterialComponent {\n    constructor() {\n        super(...arguments);\n        this.componentName = 'select';\n        this.mdcProps = ['disabled', 'box', 'outlined'];\n    }\n    componentDidMount() {\n        super.componentDidMount();\n        if (this.control) {\n            this.MDComponent = new MDCSelect(this.control);\n            this.MDComponent.listen('MDCSelect:change', this.onChanged);\n        }\n        this.updateSelection();\n    }\n    componentWillUnmount() {\n        super.componentWillUnmount();\n        if (this.MDComponent) {\n            this.MDComponent.unlisten('MDCSelect:change', this.onChanged);\n            this.MDComponent.destroy();\n        }\n    }\n    componentDidUpdate() {\n        this.updateSelection();\n    }\n    onChanged(e) {\n        if (this.MDComponent) {\n            e = e || {};\n            e.selectedIndex = e.selectedIndex || this.MDComponent.selectedIndex;\n            if (this.props.onChange) {\n                this.props.onChange(e);\n            }\n        }\n    }\n    updateSelection() {\n        if (this.MDComponent) {\n            if (this.props.selectedIndex) {\n                this.MDComponent.selectedIndex =\n                    typeof this.props.selectedIndex === 'number'\n                        ? this.props.selectedIndex\n                        : 0;\n            }\n            const selectedIndex = this.MDComponent.selectedIndex;\n            if (selectedIndex === 0) {\n                if (this.labelRef) {\n                    this.labelRef.classList.remove('mdc-floating-label--float-above');\n                }\n            }\n            else {\n                if (this.labelRef) {\n                    this.labelRef.classList.add('mdc-floating-label--float-above');\n                }\n            }\n        }\n    }\n    materialDom(allprops) {\n        const { outlined, name: n } = allprops, props = __rest(allprops, [\"outlined\", \"name\"]);\n        // noinspection RequiredAttributes\n        return (h(\"div\", Object.assign({ ref: this.setControlRef }, props),\n            h(\"select\", { class: \"mdc-select__native-control\", name: n },\n                props.hintText && h(\"option\", { value: \"\", disabled: true, selected: true }),\n                props.children),\n            props.hintText && (h(\"div\", { class: \"mdc-floating-label\", ref: ref => {\n                    this.labelRef = ref;\n                } }, props.hintText)),\n            !outlined && h(\"div\", { class: \"mdc-line-ripple\" }),\n            outlined && (h(\"div\", { class: \"mdc-notched-outline\" },\n                h(\"svg\", null,\n                    h(\"path\", { class: \"mdc-notched-outline__path\" })))),\n            outlined && h(\"div\", { class: \"mdc-notched-outline__idle\" })));\n    }\n}\n__decorate([\n    bind\n], Select.prototype, \"onChanged\", null);\nexport default class default_1 extends Select {\n}\ndefault_1.Item = SelectOption;\n//# sourceMappingURL=index.js.map"],"file":"index.js"}